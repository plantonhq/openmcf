// @generated by protoc-gen-es v2.2.2 with parameter "target=ts"
// @generated from file org/openmcf/provider/kubernetes/kubernetesjob/v1/spec.proto (package org.openmcf.provider.kubernetes.kubernetesjob.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv1";
import { fileDesc, messageDesc } from "@bufbuild/protobuf/codegenv1";
import { file_buf_validate_validate } from "../../../../../../buf/validate/validate_pb";
import type { ContainerImage, ContainerResources } from "../../kubernetes_pb";
import { file_org_openmcf_provider_kubernetes_kubernetes } from "../../kubernetes_pb";
import type { KubernetesSensitiveValue } from "../../kubernetes_secret_pb";
import { file_org_openmcf_provider_kubernetes_kubernetes_secret } from "../../kubernetes_secret_pb";
import { file_org_openmcf_provider_kubernetes_options } from "../../options_pb";
import type { KubernetesClusterSelector } from "../../target_cluster_pb";
import { file_org_openmcf_provider_kubernetes_target_cluster } from "../../target_cluster_pb";
import type { VolumeMount } from "../../volume_mount_pb";
import { file_org_openmcf_provider_kubernetes_volume_mount } from "../../volume_mount_pb";
import type { StringValueOrRef } from "../../../../shared/foreignkey/v1/foreign_key_pb";
import { file_org_openmcf_shared_foreignkey_v1_foreign_key } from "../../../../shared/foreignkey/v1/foreign_key_pb";
import { file_org_openmcf_shared_options_options } from "../../../../shared/options/options_pb";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file org/openmcf/provider/kubernetes/kubernetesjob/v1/spec.proto.
 */
export const file_org_openmcf_provider_kubernetes_kubernetesjob_v1_spec: GenFile = /*@__PURE__*/
  fileDesc("Cjtvcmcvb3Blbm1jZi9wcm92aWRlci9rdWJlcm5ldGVzL2t1YmVybmV0ZXNqb2IvdjEvc3BlYy5wcm90bxIwb3JnLm9wZW5tY2YucHJvdmlkZXIua3ViZXJuZXRlcy5rdWJlcm5ldGVzam9iLnYxIpMKChFLdWJlcm5ldGVzSm9iU3BlYxJSCg50YXJnZXRfY2x1c3RlchgBIAEoCzI6Lm9yZy5vcGVubWNmLnByb3ZpZGVyLmt1YmVybmV0ZXMuS3ViZXJuZXRlc0NsdXN0ZXJTZWxlY3RvchJfCgluYW1lc3BhY2UYAiABKAsyMi5vcmcub3Blbm1jZi5zaGFyZWQuZm9yZWlnbmtleS52MS5TdHJpbmdWYWx1ZU9yUmVmQhi6SAPIAQGI1GHEBpLUYQlzcGVjLm5hbWUSGAoQY3JlYXRlX25hbWVzcGFjZRgDIAEoCBI+CgVpbWFnZRgEIAEoCzIvLm9yZy5vcGVubWNmLnByb3ZpZGVyLmt1YmVybmV0ZXMuQ29udGFpbmVySW1hZ2USaQoJcmVzb3VyY2VzGAUgASgLMjMub3JnLm9wZW5tY2YucHJvdmlkZXIua3ViZXJuZXRlcy5Db250YWluZXJSZXNvdXJjZXNCIbr7pAIcCgwKBTEwMDBtEgMxR2kSDAoDNTBtEgUxMDBNaRJbCgNlbnYYBiABKAsyTi5vcmcub3Blbm1jZi5wcm92aWRlci5rdWJlcm5ldGVzLmt1YmVybmV0ZXNqb2IudjEuS3ViZXJuZXRlc0pvYkNvbnRhaW5lckFwcEVudhIlCgtwYXJhbGxlbGlzbRgHIAEoDUILukgD2AEBiqYdATFIAIgBARIlCgtjb21wbGV0aW9ucxgIIAEoDUILukgD2AEBiqYdATFIAYgBARInCg1iYWNrb2ZmX2xpbWl0GAkgASgNQgu6SAPYAQGKph0BNkgCiAEBEjEKF2FjdGl2ZV9kZWFkbGluZV9zZWNvbmRzGAogASgEQgu6SAPYAQGKph0BMEgDiAEBEjQKGnR0bF9zZWNvbmRzX2FmdGVyX2ZpbmlzaGVkGAsgASgNQgu6SAPYAQGKph0BMEgEiAEBEkYKD2NvbXBsZXRpb25fbW9kZRgMIAEoCUIoukgXchVSCk5vbkluZGV4ZWRSB0luZGV4ZWSKph0KTm9uSW5kZXhlZEgFiAEBEj0KDnJlc3RhcnRfcG9saWN5GA0gASgJQiC6SBRyElIJT25GYWlsdXJlUgVOZXZlcoqmHQVOZXZlckgGiAEBEg8KB2NvbW1hbmQYDiADKAkSDAoEYXJncxgPIAMoCRJoCgtjb25maWdfbWFwcxgQIAMoCzJTLm9yZy5vcGVubWNmLnByb3ZpZGVyLmt1YmVybmV0ZXMua3ViZXJuZXRlc2pvYi52MS5LdWJlcm5ldGVzSm9iU3BlYy5Db25maWdNYXBzRW50cnkSQwoNdm9sdW1lX21vdW50cxgRIAMoCzIsLm9yZy5vcGVubWNmLnByb3ZpZGVyLmt1YmVybmV0ZXMuVm9sdW1lTW91bnQSHwoHc3VzcGVuZBgSIAEoCEIJiqYdBWZhbHNlSAeIAQEaMQoPQ29uZmlnTWFwc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCDgoMX3BhcmFsbGVsaXNtQg4KDF9jb21wbGV0aW9uc0IQCg5fYmFja29mZl9saW1pdEIaChhfYWN0aXZlX2RlYWRsaW5lX3NlY29uZHNCHQobX3R0bF9zZWNvbmRzX2FmdGVyX2ZpbmlzaGVkQhIKEF9jb21wbGV0aW9uX21vZGVCEQoPX3Jlc3RhcnRfcG9saWN5QgoKCF9zdXNwZW5kIs8DChxLdWJlcm5ldGVzSm9iQ29udGFpbmVyQXBwRW52EnAKCXZhcmlhYmxlcxgBIAMoCzJdLm9yZy5vcGVubWNmLnByb3ZpZGVyLmt1YmVybmV0ZXMua3ViZXJuZXRlc2pvYi52MS5LdWJlcm5ldGVzSm9iQ29udGFpbmVyQXBwRW52LlZhcmlhYmxlc0VudHJ5EmwKB3NlY3JldHMYAiADKAsyWy5vcmcub3Blbm1jZi5wcm92aWRlci5rdWJlcm5ldGVzLmt1YmVybmV0ZXNqb2IudjEuS3ViZXJuZXRlc0pvYkNvbnRhaW5lckFwcEVudi5TZWNyZXRzRW50cnkaZAoOVmFyaWFibGVzRW50cnkSCwoDa2V5GAEgASgJEkEKBXZhbHVlGAIgASgLMjIub3JnLm9wZW5tY2Yuc2hhcmVkLmZvcmVpZ25rZXkudjEuU3RyaW5nVmFsdWVPclJlZjoCOAEaaQoMU2VjcmV0c0VudHJ5EgsKA2tleRgBIAEoCRJICgV2YWx1ZRgCIAEoCzI5Lm9yZy5vcGVubWNmLnByb3ZpZGVyLmt1YmVybmV0ZXMuS3ViZXJuZXRlc1NlbnNpdGl2ZVZhbHVlOgI4AUKMAwo0Y29tLm9yZy5vcGVubWNmLnByb3ZpZGVyLmt1YmVybmV0ZXMua3ViZXJuZXRlc2pvYi52MUIJU3BlY1Byb3RvUAFaYmdpdGh1Yi5jb20vcGxhbnRvbmhxL29wZW5tY2YvYXBpcy9vcmcvb3Blbm1jZi9wcm92aWRlci9rdWJlcm5ldGVzL2t1YmVybmV0ZXNqb2IvdjE7a3ViZXJuZXRlc2pvYnYxogIFT09QS0uqAjBPcmcuT3Blbm1jZi5Qcm92aWRlci5LdWJlcm5ldGVzLkt1YmVybmV0ZXNqb2IuVjHKAjBPcmdcT3Blbm1jZlxQcm92aWRlclxLdWJlcm5ldGVzXEt1YmVybmV0ZXNqb2JcVjHiAjxPcmdcT3Blbm1jZlxQcm92aWRlclxLdWJlcm5ldGVzXEt1YmVybmV0ZXNqb2JcVjFcR1BCTWV0YWRhdGHqAjVPcmc6Ok9wZW5tY2Y6OlByb3ZpZGVyOjpLdWJlcm5ldGVzOjpLdWJlcm5ldGVzam9iOjpWMWIGcHJvdG8z", [file_buf_validate_validate, file_org_openmcf_provider_kubernetes_kubernetes, file_org_openmcf_provider_kubernetes_kubernetes_secret, file_org_openmcf_provider_kubernetes_options, file_org_openmcf_provider_kubernetes_target_cluster, file_org_openmcf_provider_kubernetes_volume_mount, file_org_openmcf_shared_foreignkey_v1_foreign_key, file_org_openmcf_shared_options_options]);

/**
 * *
 * KubernetesJobSpec defines the configuration for deploying a one-shot Job on a Kubernetes cluster.
 * Unlike CronJob which runs on a schedule, a Job executes immediately when created and runs pods
 * to completion. Jobs are ideal for batch processing, data migrations, one-time tasks, and
 * workflows that need to run to completion before the process exits.
 *
 * @generated from message org.openmcf.provider.kubernetes.kubernetesjob.v1.KubernetesJobSpec
 */
export type KubernetesJobSpec = Message<"org.openmcf.provider.kubernetes.kubernetesjob.v1.KubernetesJobSpec"> & {
  /**
   * Target Kubernetes Cluster
   *
   * @generated from field: org.openmcf.provider.kubernetes.KubernetesClusterSelector target_cluster = 1;
   */
  targetCluster?: KubernetesClusterSelector;

  /**
   * Kubernetes Namespace
   *
   * @generated from field: org.openmcf.shared.foreignkey.v1.StringValueOrRef namespace = 2;
   */
  namespace?: StringValueOrRef;

  /**
   * Flag to indicate if the namespace should be created
   *
   * @generated from field: bool create_namespace = 3;
   */
  createNamespace: boolean;

  /**
   * *
   * The container image to be used for the job.
   * The pull_secret_name is determined by looking up the
   * container_image_artifact_store_id from the environment where the job is deployed.
   *
   * @generated from field: org.openmcf.provider.kubernetes.ContainerImage image = 4;
   */
  image?: ContainerImage;

  /**
   * *
   * The CPU and memory resources allocated to the job container.
   * If not specified, default container resources (limits.cpu=1000m, limits.memory=1Gi,
   * requests.cpu=50m, requests.memory=100Mi) are applied.
   *
   * @generated from field: org.openmcf.provider.kubernetes.ContainerResources resources = 5;
   */
  resources?: ContainerResources;

  /**
   * *
   * Environment variables and secrets for the job container.
   * This includes both straightforward environment variables (key=value)
   * and references to secrets.
   *
   * @generated from field: org.openmcf.provider.kubernetes.kubernetesjob.v1.KubernetesJobContainerAppEnv env = 6;
   */
  env?: KubernetesJobContainerAppEnv;

  /**
   * *
   * Number of parallel pods to run for the job.
   * Default is 1 (sequential execution).
   * Set higher for parallel batch processing.
   *
   * @generated from field: optional uint32 parallelism = 7;
   */
  parallelism?: number;

  /**
   * *
   * Number of successful completions required before the job is considered complete.
   * Default is 1.
   * For parallel jobs, this specifies the total number of successful pods needed.
   * For indexed jobs, this equals the number of indexes (0 to completions-1).
   *
   * @generated from field: optional uint32 completions = 8;
   */
  completions?: number;

  /**
   * *
   * Number of retries before marking this job as failed.
   * Default is 6.
   *
   * @generated from field: optional uint32 backoff_limit = 9;
   */
  backoffLimit?: number;

  /**
   * *
   * Maximum duration in seconds for the job to run.
   * If the job runs longer than this, it will be terminated.
   * Set to 0 for no deadline (default).
   * Useful for preventing runaway jobs.
   *
   * @generated from field: optional uint64 active_deadline_seconds = 10;
   */
  activeDeadlineSeconds?: bigint;

  /**
   * *
   * Time in seconds to retain the job after completion (either success or failure).
   * After this duration, the job and its pods will be automatically deleted.
   * Useful for cleanup of completed jobs.
   * Default is 0 (no automatic cleanup).
   *
   * @generated from field: optional uint32 ttl_seconds_after_finished = 11;
   */
  ttlSecondsAfterFinished?: number;

  /**
   * *
   * Completion mode for the job.
   * "NonIndexed" (default): All pods are equivalent, job completes when 'completions' pods succeed.
   * "Indexed": Each pod gets an index (0 to completions-1), job completes when each index has one successful pod.
   * Indexed mode is useful for parallel processing of partitioned data.
   *
   * @generated from field: optional string completion_mode = 12;
   */
  completionMode?: string;

  /**
   * *
   * Pod restart policy.
   * Allowed values: "OnFailure", "Never".
   * Default is "Never".
   * Note: "Always" is not allowed for Jobs.
   *
   * @generated from field: optional string restart_policy = 13;
   */
  restartPolicy?: string;

  /**
   * *
   * An optional list of commands (equivalent to an ENTRYPOINT override) for the job container.
   * If omitted, the default ENTRYPOINT in the image will be used.
   * Example: ["sh", "-c", "python process_data.py"]
   *
   * @generated from field: repeated string command = 14;
   */
  command: string[];

  /**
   * *
   * An optional list of arguments passed to the container command or the image's default ENTRYPOINT.
   * If omitted, the default CMD in the image will be used.
   * Example: ["--input", "/data/input.csv", "--output", "/data/output.csv"]
   *
   * @generated from field: repeated string args = 15;
   */
  args: string[];

  /**
   * *
   * ConfigMaps to create alongside the Job.
   * Key is the ConfigMap name, value is the content.
   * These ConfigMaps can be referenced in volume mounts.
   *
   * Example:
   *   config_maps:
   *     processing-script: |
   *       #!/bin/bash
   *       echo "Processing data..."
   *       python /scripts/process.py
   *
   * @generated from field: map<string, string> config_maps = 16;
   */
  configMaps: { [key: string]: string };

  /**
   * *
   * Volume mounts for the Job container.
   * Supports mounting ConfigMaps, Secrets, HostPaths, EmptyDirs, and PVCs.
   * ConfigMaps defined in spec.config_maps can be referenced here.
   *
   * Example:
   *   volume_mounts:
   *     - name: processing-script
   *       mountPath: /scripts/process.sh
   *       configMap:
   *         name: processing-script
   *         key: processing-script
   *         path: process.sh
   *
   * @generated from field: repeated org.openmcf.provider.kubernetes.VolumeMount volume_mounts = 17;
   */
  volumeMounts: VolumeMount[];

  /**
   * *
   * If true, no pods are created for this job.
   * Existing pods are not affected.
   * Default is false.
   *
   * @generated from field: optional bool suspend = 18;
   */
  suspend?: boolean;
};

/**
 * Describes the message org.openmcf.provider.kubernetes.kubernetesjob.v1.KubernetesJobSpec.
 * Use `create(KubernetesJobSpecSchema)` to create a new message.
 */
export const KubernetesJobSpecSchema: GenMessage<KubernetesJobSpec> = /*@__PURE__*/
  messageDesc(file_org_openmcf_provider_kubernetes_kubernetesjob_v1_spec, 0);

/**
 * *
 * KubernetesJobContainerAppEnv defines the environment variables
 * and secrets for the job container.
 *
 * @generated from message org.openmcf.provider.kubernetes.kubernetesjob.v1.KubernetesJobContainerAppEnv
 */
export type KubernetesJobContainerAppEnv = Message<"org.openmcf.provider.kubernetes.kubernetesjob.v1.KubernetesJobContainerAppEnv"> & {
  /**
   * *
   * A map of environment variable names to their values.
   * Each variable can be provided either as a literal string value or as a reference
   * to another OpenMCF resource's field.
   *
   * **Option 1: Direct string value**
   * ```yaml
   * variables:
   *   BATCH_SIZE:
   *     value: "1000"
   * ```
   *
   * **Option 2: Reference to another resource's field**
   * ```yaml
   * variables:
   *   DATABASE_HOST:
   *     valueFrom:
   *       kind: PostgresCluster
   *       name: my-postgres
   *       fieldPath: "status.outputs.host"
   * ```
   *
   * When using valueFrom references, the orchestrator resolves the reference
   * and populates the value field before invoking the IaC modules.
   *
   * @generated from field: map<string, org.openmcf.shared.foreignkey.v1.StringValueOrRef> variables = 1;
   */
  variables: { [key: string]: StringValueOrRef };

  /**
   * *
   * A map of secret environment variable names to their values.
   * Each secret can be provided either as a literal string value or as a reference
   * to an existing Kubernetes Secret.
   *
   * Using secret references is recommended for production deployments.
   *
   * @generated from field: map<string, org.openmcf.provider.kubernetes.KubernetesSensitiveValue> secrets = 2;
   */
  secrets: { [key: string]: KubernetesSensitiveValue };
};

/**
 * Describes the message org.openmcf.provider.kubernetes.kubernetesjob.v1.KubernetesJobContainerAppEnv.
 * Use `create(KubernetesJobContainerAppEnvSchema)` to create a new message.
 */
export const KubernetesJobContainerAppEnvSchema: GenMessage<KubernetesJobContainerAppEnv> = /*@__PURE__*/
  messageDesc(file_org_openmcf_provider_kubernetes_kubernetesjob_v1_spec, 1);

