syntax = "proto3";

package org.openmcf.provider.kubernetes.kubernetesrookcephcluster.v1;

import "buf/validate/validate.proto";
import "org/openmcf/provider/kubernetes/kubernetesrookcephcluster/v1/spec.proto";
import "org/openmcf/provider/kubernetes/kubernetesrookcephcluster/v1/stack_outputs.proto";
import "org/openmcf/shared/metadata.proto";

// KubernetesRookCephCluster is the top-level resource representing a Rook Ceph storage cluster on Kubernetes.
// The Rook Ceph Operator must be installed before deploying this resource.
// This component creates a CephCluster with optional block pools, filesystems, and object stores
// for providing distributed storage services including block, file, and object storage.
message KubernetesRookCephCluster {
  // API version for this resource.
  string api_version = 1 [(buf.validate.field).string.const = 'kubernetes.openmcf.org/v1'];

  // Resource kind identifier.
  string kind = 2 [(buf.validate.field).string.const = 'KubernetesRookCephCluster'];

  // Metadata for the resource.
  org.openmcf.shared.CloudResourceMetadata metadata = 3 [(buf.validate.field).required = true];

  // Spec defines the desired state for the Rook Ceph Cluster deployment.
  KubernetesRookCephClusterSpec spec = 4 [(buf.validate.field).required = true];

  // Status reflects the observed state of the Rook Ceph Cluster deployment.
  KubernetesRookCephClusterStatus status = 5;
}

// KubernetesRookCephClusterStatus represents the current status of the Rook Ceph Cluster deployment.
message KubernetesRookCephClusterStatus {
  // Stack outputs from the IaC deployment.
  KubernetesRookCephClusterStackOutputs outputs = 1;
}
