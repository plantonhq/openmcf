syntax = "proto3";

package org.project_planton.provider.aws.awsroute53dnsrecord.v1;

import "buf/validate/validate.proto";
import "org/project_planton/provider/aws/awsroute53dnsrecord/v1/spec.proto";
import "org/project_planton/provider/aws/awsroute53dnsrecord/v1/stack_outputs.proto";
import "org/project_planton/shared/metadata.proto";

// AwsRoute53DnsRecord represents a DNS record in an AWS Route53 hosted zone.
// It follows the Kubernetes Resource Model (KRM) pattern with metadata, spec, and status.
//
// This resource enables creating individual DNS records with support for:
//   - Standard record types (A, AAAA, CNAME, MX, TXT, etc.)
//   - Alias records (Route53's killer feature for AWS resources)
//   - Advanced routing policies (weighted, latency, failover, geolocation)
//
// Example usage:
//   apiVersion: aws.project-planton.org/v1
//   kind: AwsRoute53DnsRecord
//   metadata:
//     name: www-example
//   spec:
//     hosted_zone_id: Z1234567890ABC
//     name: www.example.com
//     type: A
//     ttl: 300
//     values:
//       - 192.0.2.1
message AwsRoute53DnsRecord {
  // API version for this resource.
  // Must be "aws.project-planton.org/v1".
  string api_version = 1 [(buf.validate.field).string.const = 'aws.project-planton.org/v1'];

  // Resource kind.
  // Must be "AwsRoute53DnsRecord".
  string kind = 2 [(buf.validate.field).string.const = 'AwsRoute53DnsRecord'];

  // Standard metadata including name and labels.
  org.project_planton.shared.CloudResourceMetadata metadata = 3 [(buf.validate.field).required = true];

  // Specification for the DNS record configuration.
  AwsRoute53DnsRecordSpec spec = 4 [(buf.validate.field).required = true];

  // Status of the DNS record (populated after deployment).
  AwsRoute53DnsRecordStatus status = 5;
}

// AwsRoute53DnsRecordStatus represents the status of a Route53 DNS record.
// Populated by the system after the record is provisioned.
message AwsRoute53DnsRecordStatus {
  // Stack outputs from the IaC deployment.
  AwsRoute53DnsRecordStackOutputs outputs = 1;
}
